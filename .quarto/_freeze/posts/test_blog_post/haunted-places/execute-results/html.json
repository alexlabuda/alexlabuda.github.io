{
  "hash": "2600d881811d6b04b3cc3459852144ed",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Haunted Places in New York\"\nsubtitle: \"Creating a map styled map showing all the haunted places in New York City\"\ndate: '2024-01-25'\ncategories: ['gt', 'tables', 'news']\ndescription: \"Something here about haunted places\"\nexecute: \n  message: false\n  warning: false\neditor_options: \n  chunk_output_type: console\nformat:\n  html:\n    code-fold: true\n    code-summary: \"Show the code\"\n---\n\n\n\n\n![](featured.jpg)\n\n\n\n\n\n\n\n# The Data\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n# Visualize the Data\n\nFirst lets visualize our target variable, `revenue`\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# convert to sf object\nplot_sf <- plot_data |>\n  filter(longitude >= bb[\"x\", \"min\"] & longitude <= bb[\"x\", \"max\"]) |>\n  filter(latitude >= bb[\"y\", \"min\"] & latitude <= bb[\"y\", \"max\"]) |>\n  st_as_sf(coords = c(\"longitude\", \"latitude\"), crs = 4326)\n```\n:::\n\n::: {.cell}\n\n:::\n\n\n# A Simple Linear Model\n\nNow lets take a look at our simple model output that includes direct marketing features and examine their effect of revenue\n\nWe can see that:\n\n-   TV spend, print spend, competitor sales and Facebook spend are statistically significant\n-   Print spend has the largest positive effect at increasing revenue of each of the direct marketing inputs\n-   A large positive intercept suggests that this company already has a strong baseline of sales\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# gg_record(\n#   dir    = file.path(\"2023\", \"2023-10-10\", \"recording\"),\n#   device = \"png\",\n#   width  = 6,\n#   height = 9,\n#   units  = \"in\",\n#   dpi    = 300\n# )\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot() +\n  geom_sf(\n    data = small_streets$osm_lines,\n    color = \"#630606\",\n    size = 0.1,\n    alpha = 0.4\n  ) +\n  geom_sf(\n    data = streets$osm_lines,\n    color = highlight_col,\n    size = 0.4,\n    alpha = 0.7\n  ) +\n  with_outer_glow(\n    geom_sf(\n      data   = plot_sf,\n      colour = text_col,\n      size   = 0.5,\n    ),\n    colour = \"white\",\n    sigma = 10,\n    expand = 9\n  ) +\n  labs(\n    title    = title,\n    subtitle = st,\n    caption  = cap\n  ) +\n  theme_void(base_size = 30, base_family = body_font) +\n  theme(\n    plot.background  = element_rect(fill = bg_col, colour = bg_col),\n    panel.background = element_rect(fill = bg_col, colour = bg_col),\n    plot.margin = margin(10, 10, 10, 10),\n    plot.title = element_textbox_simple(\n      colour     = highlight_col,\n      hjust      = 0.5,\n      halign     = 0.5,\n      face       = \"bold\",\n      size       = 100,\n      margin     = margin(b = 10, t = 10),\n      lineheight = 0.5,\n      family     = title_font\n    ),\n    plot.subtitle = element_textbox_simple(\n      colour = text_col,\n      hjust = 0.5,\n      halign = 0.5,\n      margin = margin(b = 10, t = 10),\n      lineheight = 0.5,\n      family = body_font\n    ),\n    plot.caption = element_textbox_simple(\n      colour = text_col,\n      hjust = 0.5,\n      halign = 0.5,\n      margin = margin(b = 10, t = 10),\n      lineheight = 0.5,\n      family = body_font\n    )\n  )\n```\n\n::: {.cell-output-display}\n![](haunted-places_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "haunted-places_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}